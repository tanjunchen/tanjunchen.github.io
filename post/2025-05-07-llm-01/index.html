<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="漫步远方，心荡神往"><meta property="og:type" content="article"><meta property="og:image" content="https://tanjunchen.github.io/img/home.webp"><meta property="twitter:image" content="https://tanjunchen.github.io/img/home.webp"><meta name=title content="科普开源大模型基础知识"><meta property="og:title" content="科普开源大模型基础知识"><meta property="twitter:title" content="科普开源大模型基础知识"><meta name=description content="陈谭军，软件工程师, 开源爱好者, 互联网, 云原生, 容器, 微服务, Web, PaaS, Istio, Kubernetes, Microservice"><meta property="og:description" content="陈谭军，软件工程师, 开源爱好者, 互联网, 云原生, 容器, 微服务, Web, PaaS, Istio, Kubernetes, Microservice"><meta property="twitter:description" content="陈谭军，软件工程师, 开源爱好者, 互联网, 云原生, 容器, 微服务, Web, PaaS, Istio, Kubernetes, Microservice"><meta property="twitter:card" content="summary"><meta name=keyword content="陈谭军, 互联网, 云原生, 容器, 微服务, Web, PaaS, Istio, Kubernetes, Microservice"><link rel="shortcut icon" href=/img/favicon.ico><title>科普开源大模型基础知识 | 陈谭军的博客 | tanjunchen Blog</title><link rel=canonical href=/post/2025-05-07-llm-01/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.css><link rel=stylesheet href=/css/font-awesome.all.min.css><script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js></script>
<script src=/js/hux-blog.min.js></script>
<script src=/js/lazysizes.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=/>漫步远方，心荡神往</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/categories/technology/>technology</a></li><li><a href=/categories/think/>think</a></li><li><a href=/learning/>LEARNING</a></li><li><a href=/archive/>ARCHIVE</a></li><li><a href=/about/>ABOUT</a></li><li><a href=/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/home.webp)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/ai title=AI>AI</a>
<a class=tag href=/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B title=大模型>大模型</a>
<a class=tag href=/tags/deepseek title=DeepSeek>DeepSeek</a></div><h1>科普开源大模型基础知识</h1><h2 class=subheading>本篇文章主要介绍开源大模型的基础知识，如 LLama 4 和 Qwen 3 的核心亮点和基础架构</h2><span class=meta>Posted by
陈谭军
on
Wednesday, May 7, 2025
<span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
<span id=/post/2025-05-07-llm-01/ class="leancloud_visitors meta_data_item" data-flag-title><span class=post-meta-item-icon><span class="octicon octicon-eye"></span></span>
<i class="fa fa-eye"></i>
<span class=old-visitors-count style=display:none></span>
<span class=leancloud-visitors-count></span></span>
<script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js></script>
<script>AV.initialize("","")</script><script type=text/javascript>function showTime(e){var n=new AV.Query(e),t=[],s=$(".leancloud_visitors");s.each(function(){t.push($(this).attr("id").trim())}),n.containedIn("url",t),n.find().done(function(e){for(var s,o,i,a,r,c,l=".leancloud-visitors-count",d=".old-visitors-count",n=0;n<e.length;n++)a=e[n],i=a.get("url"),c=a.get("time"),s=document.getElementById(i),$(s).find(l).text(c);for(n=0;n<t.length;n++)i=t[n],s=document.getElementById(i),o=$(s).find(l),o.text()==""&&(r=$(s).find(d).text(),r!=""?o.text(0+parseInt(r)):o.text(0))}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var n=$(".leancloud_visitors"),t=n.attr("id").trim(),o=n.attr("data-flag-title").trim(),s=new AV.Query(e);s.equalTo("url",t),s.find({success:function(n){if(n.length>0){var s,i,r,c,l,a=n[0];a.fetchWhenSave(!0),a.increment("time"),a.save(null,{success:function(e){var n=$(document.getElementById(t));n.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else s=new e,i=new AV.ACL,i.setPublicReadAccess(!0),i.setPublicWriteAccess(!0),s.setACL(i),s.set("title",o),s.set("url",t),c=".old-visitors-count",l=$(document.getElementById(t)),r=l.find(c).text(),r!=""?s.set("time",parseInt(r)+1):s.set("time",1),s.save(null,{success:function(e){var n=$(document.getElementById(t));n.find(".leancloud-visitors-count").text(e.get("time"))},error:function(){console.log("Failed to create")}})},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");$(".leancloud_visitors").length==1?addCount(e):showTime(e)})</script>阅读 </span></span>|<span class=post-date>共 2998 字</span>，阅读约 <span class=more-meta>6 分钟</span></span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><h1 id=llama-4>Llama 4</h1><p>北京时间2025年4月6日凌晨，Meta发布了外界期待许久的Llama4系列开源模型，目前它包括 Llama 4 Scout、Llama 4 Maverick、Llama 4 Behemoth。三种模型对应不同的使用需求，简单来说：</p><ul><li>Llama 4 Scout 是可以在单张 H100 上跑的多模态 MoE 模型；</li><li>Llama 4 Maverick 是击败了 GPT-4o 和 Gemini 2.0，比 DeepSeek v3 小但编码和推理能力匹配的“最佳模型”；</li><li>还有一个即将发布的、隐藏在后为所有 Llama4 系列提供能力的 2880 亿活跃参数“巨兽”模型 Llama 4 Behemoth；</li></ul><p><img src=/images/2025-05-07-llm-01/1.png alt></p><p>根据官方发布的介绍，此次 Llama4 有几个重要的技术亮点。</p><ul><li>MoE架构：此次是 Llama 首次采用混合专家架构，任务执行时仅激活部分参数（如Maverick总参数4000亿，活跃参数170亿），显著提升训练和推理效率；</li><li>多模态融合：早期融合（Early Fusion）策略统一处理文本、图像、视频，突破传统多模态模型的分阶段处理限制；</li><li>超长上下文：Scout支持1000万Token上下文窗口（约20K字文本或20小时视频），通过iRoPE架构实现“短序列训练，长序列泛化”；</li><li>部署上：Scout支持单张H100 GPU运行（Int4量化后），Maverick需H100 DGX集群，Behemoth则夸张地使用了32K块GPU训练；</li><li>后训练策略：采用“轻量级SFT → 在线RL → 轻量级DPO”流程，减少对齐约束，增强模型探索能力。引入“自我批判式数据筛选”，利用早期模型Check point检查点过滤低质量训练样本，提升最终性能。</li></ul><p>在DeepSeek引发模型开源浪潮以前，Meta一直是开源模型的领先玩家及重要的行业奠基者。在ChatGPT横空出世7个多月后，Meta就率先宣布开源Llama 2，并且可免费商用。这也成为大模型发展的分水岭，是开源模型社区的历史性时刻。Llama第四代模型的发布，不仅是Meta应对DeepSeek等新兴开源势力的一次“回击”，同时也推动了开源模型技术的进一步发展和生态的进一步完善。</p><p><img src=/images/2025-05-07-llm-01/2.png alt></p><p>总结：由于 Behemoth 这个巨大参数的模型此次并没有正式发布，另外两个模型并没有太过让人震惊的突破 - 尤其在刷新评测榜单这件事已经没那么重要的今天，人们对Llama4的期待在于它的技术思路上是否有新玩意。主要亮点：Maverick和Scout模型此次也是首次采用了MoE混合专家结构，并且主打的亮点是原生的多模态能力、1千万上下文窗口。以上带有”戏谑性“的图片反应了大家对 Llama 4 重磅发布的反应，Meta AI 在大模型开源社区从领先者变回追赶者，或许有得忙了。</p><h1 id=qwen-3>Qwen 3</h1><h2 id=概述>概述</h2><p><img src=/images/2025-05-07-llm-01/3.png alt></p><p>2025年4月29日，Qwen 团队宣布推出 Qwen3，这是 Qwen 系列大型语言模型的最新成员。Qwen3 旗舰模型 Qwen3-235B-A22B 在代码、数学、通用能力等基准测试中，与 DeepSeek-R1、o1、o3-mini、Grok-3 和 Gemini-2.5-Pro 等顶级模型相比，表现出极具竞争力的结果。此外，小型 MoE 模型 Qwen3-30B-A3B 的激活参数数量是 QwQ-32B 的 10%，表现更胜一筹，甚至像 Qwen3-4B 这样的小模型也能匹敌 Qwen2.5-72B-Instruct 的性能。</p><p><img src=/images/2025-05-07-llm-01/4.png alt></p><p><img src=/images/2025-05-07-llm-01/5.png alt></p><p>Qwen 团队开源了两个 MoE 模型的权重：Qwen3-235B-A22B，一个拥有 2350 多亿总参数和 220 多亿激活参数的大模型，以及 Qwen3-30B-A3B，一个拥有约 300 亿总参数和 30 亿激活参数的小型 MoE 模型。此外，六个 Dense 模型也已开源，包括 Qwen3-32B、Qwen3-14B、Qwen3-8B、Qwen3-4B、Qwen3-1.7B 和 Qwen3-0.6B，均在 Apache 2.0 许可下开源。</p><p><img src=/images/2025-05-07-llm-01/6.png alt></p><h2 id=核心亮点>核心亮点</h2><h3 id=多种思考模式qwen3-模型支持两种思考模式>多种思考模式（Qwen3 模型支持两种思考模式）</h3><ul><li>思考模式：在这种模式下，模型会逐步推理，经过深思熟虑后给出最终答案。这种方法非常适合需要深入思考的复杂问题。</li><li>非思考模式：在此模式中，模型提供快速、近乎即时的响应，适用于那些对速度要求高于深度的简单问题。</li></ul><p>这种灵活性使用户能够根据具体任务控制模型进行“思考”的程度。例如，复杂的问题可以通过扩展推理步骤来解决，而简单的问题则可以直接快速作答，无需延迟。至关重要的是，这两种模式的结合大大增强了模型实现稳定且高效的“思考预算”控制能力。</p><p><img src=/images/2025-05-07-llm-01/7.png alt></p><p><img src=/images/2025-05-07-llm-01/8.png alt></p><h3 id=多语言>多语言</h3><p>Qwen3 模型支持 119 种语言和方言。这一广泛的多语言能力为国际应用开辟了新的可能性，让全球用户都能受益于这些模型的强大功能。</p><h3 id=增强的-agent-能力>增强的 Agent 能力</h3><p>Qwen 团队优化了 Qwen3 模型的 Agent 和代码能力，同时也加强了对 MCP 的支持。下面我们将提供一些示例，展示 Qwen3 是如何思考并与环境进行交互的。</p><h2 id=预训练与后训练>预训练与后训练</h2><p>预训练过程分为三个阶段。</p><ul><li>在第一阶段（S1），模型在超过 30 万亿个 token 上进行了预训练，上下文长度为 4K token。这一阶段为模型提供了基本的语言技能和通用知识。</li><li>在第二阶段（S2），通过增加知识密集型数据（如 STEM、编程和推理任务）的比例来改进数据集，随后模型又在额外的 5 万亿个 token 上进行了预训练。</li><li>在第三阶段（S3），使用高质量的长上下文数据将上下文长度扩展到 32K token，确保模型能够有效地处理更长的输入。</li></ul><p><img src=/images/2025-05-07-llm-01/9.png alt></p><p>在预训练方面，Qwen3 的数据集相比 Qwen2.5 有了显著扩展。Qwen2.5是在 18 万亿个 token 上进行预训练的，而 Qwen3 使用的数据量几乎是其两倍，达到了约 36 万亿个 token（DeepSeek-V3 模型在预训练阶段使用了约 14.8 万亿（14.8T）词元），涵盖了 119 种语言和方言。为了构建这个庞大的数据集，不仅从网络上收集数据，还从 PDF 文档中提取信息。使用 Qwen2.5-VL 从这些文档中提取文本，并用 Qwen2.5 改进提取内容的质量。为了增加数学和代码数据的数量，利用 Qwen2.5-Math 和 Qwen2.5-Coder 这两个数学和代码领域的专家模型合成数据，合成了包括教科书、问答对以及代码片段等多种形式的数据。后训练过程分为四个阶段。</p><p><img src=/images/2025-05-07-llm-01/10.png alt></p><p>Qwen 团队开发能够同时具备思考推理和快速响应能力的混合模型，实施了一个四阶段的训练流程。
该流程包括：（1）长思维链冷启动、（2）长思维链强化学习（3）思维模式融合、（4）通用强化学习。</p><ul><li>在第一阶段，使用多样的的长思维链数据对模型进行了微调，涵盖了数学、代码、逻辑推理和 STEM 问题等多种任务和领域。这一过程旨在为模型配备基本的推理能力。</li><li>在第二阶段，重点是大规模强化学习，利用基于规则的奖励来增强模型的探索和钻研能力。</li><li>在第三阶段，在一份包括长思维链数据和常用的指令微调数据的组合数据上对模型进行微调，将非思考模式整合到思考模型中。确保了推理和快速响应能力的无缝结合。</li><li>在第四阶段，在包括指令遵循、格式遵循和 Agent 能力等在内的 20 多个通用领域的任务上应用了强化学习，以进一步增强模型的通用能力并纠正不良行为。</li></ul><p><img src=/images/2025-05-07-llm-01/11.png alt></p><p>见解：Qwen3 代表了人类在通往通用人工智能（AGI）和超级人工智能（ASI）旅程中的一个重要里程碑。通过扩大预训练和强化学习的规模，实现了更高层次的智能。无缝集成了思考模式与非思考模式，为用户提供了灵活控制思考预算的能力。此外，还扩展了对多种语言的支持，帮助全球更多用户。
截至目前（2025.05.07），Qwen3（通义千问3）尚未发布完整的技术报告，多模态输入与输出能力、大规模训练数据与模型规模、推理能力的可控性、多语言等方面相对 DeepSeek R1 有较强的提升，但是里面的技术细节目前并没有完全披露。</p><h1 id=实践案例>实践案例</h1><h2 id=98-与-911-谁大>9.8 与 9.11 谁大？</h2><p><img src=/images/2025-05-07-llm-01/12.png alt></p><p><img src=/images/2025-05-07-llm-01/13.png alt></p><p><img src=/images/2025-05-07-llm-01/14.png alt></p><p><img src=/images/2025-05-07-llm-01/15.png alt></p><p><img src=/images/2025-05-07-llm-01/16.png alt></p><h2 id=strawberry-有几个-r>strawberry 有几个 r?</h2><p><img src=/images/2025-05-07-llm-01/17.png alt></p><p><img src=/images/2025-05-07-llm-01/18.png alt></p><p><img src=/images/2025-05-07-llm-01/19.png alt></p><p><img src=/images/2025-05-07-llm-01/20.png alt></p><p><img src=/images/2025-05-07-llm-01/21.png alt></p><p>测试时间（2025.05.07），我们测试下大模型领域非常有意思的测试问题，如 9.8 与 9.11 谁大？strawberry 有几个 r？</p><p>9.8 与 9.11 谁大？这个问题，ChatGPT、DeepSeek、Qwen3、豆包、文心 4.5 Torbo 都回答正确；</p><p>strawberry 有几个 r ？这个问题，ChatGPT、豆包回答错误，DeepSeek、Qwen3、文心 4.5 Turbo 回答正确；</p><h1 id=附录>附录</h1><ul><li><a href=https://github.com/deepseek-ai/open-infra-index>https://github.com/deepseek-ai/open-infra-index</a></li><li><a href=https://github.com/ByteDance-Seed/Seed-Thinking-v1.5/blob/main/seed-thinking-v1.5.pdf>https://github.com/ByteDance-Seed/Seed-Thinking-v1.5/blob/main/seed-thinking-v1.5.pdf</a></li><li><a href=https://qwenlm.github.io/blog/qwen3/>https://qwenlm.github.io/blog/qwen3/</a></li><li><a href=https://cameronrwolfe.substack.com/p/language-model-training-and-inference>https://cameronrwolfe.substack.com/p/language-model-training-and-inference</a></li><li><a href=https://ai.meta.com/blog/llama-4-multimodal-intelligence/>The Llama 4 herd: The beginning of a new era of natively multimodal AI innovation</a></li><li><a href=https://medium.com/@chassweeting/the-state-of-gpt-by-andrew-kaparthy-fad2f007c1b9>https://medium.com/@chassweeting/the-state-of-gpt-by-andrew-kaparthy-fad2f007c1b9</a></li><li><a href=https://github.com/Jiayi-Pan/TinyZero>https://github.com/Jiayi-Pan/TinyZero</a></li></ul><hr><ul class=pager><li class=previous><a href=/post/2025-04-05-2h20-deepseek-r1-sglang-vllm/ data-toggle=tooltip data-placement=top title=双机2*H20(8*96GiB)部署满血DeepSeek-R1(fp8)验证过程>&larr;
Previous Post</a></li></ul></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:tanjunchen20@gmail.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=/img/wechat.jpg><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-weixin fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/tanjunchen><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; 陈谭军 2025</p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,r=$(_containerSelector),a=r.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),a.each(function(){n=$(this).prop("tagName").toLowerCase(),i="#"+$(this).prop("id"),s=$(this).text(),t=$('<a href="'+i+'" rel="nofollow">'+s+"</a>"),o=$('<li class="'+n+'_nav"></li>').append(t),$(e).append(o)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>